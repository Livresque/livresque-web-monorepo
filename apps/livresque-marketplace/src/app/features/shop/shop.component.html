<div class="relative flex min-h-screen w-full flex-col">
  <app-header></app-header>
  <main class="flex-1 bg-background-dark relative">
<div class="absolute inset-0 overflow-hidden pointer-events-none opacity-[0.03]">
<svg class="w-full h-full" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
<defs>
<pattern height="60" id="hex-pattern" patternUnits="userSpaceOnUse" width="60">
<path class="text-primary" d="M30 0l25 15v30l-25 15L5 45V15z" fill="none" stroke="currentColor" stroke-width="1"></path>
</pattern>
</defs>
<rect fill="url(#hex-pattern)" height="100%" width="100%"></rect>
</svg>
</div>
<div class="absolute inset-0 overflow-hidden pointer-events-none z-0">
<svg class="absolute top-[5%] right-[2%] text-primary/5 w-[600px] h-[600px] blur-3xl" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
<circle cx="100" cy="100" fill="currentColor" r="80"></circle>
</svg>
<svg class="absolute bottom-[10%] left-[-5%] text-surface-highlight/20 w-[400px] h-[400px] blur-3xl" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
<rect fill="currentColor" height="150" width="150" x="25" y="25"></rect>
</svg>
</div>
<div class="relative z-10 border-b border-[#2E2419] bg-surface-dark/50 backdrop-blur-md">
<div class="mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-8">
<nav aria-label="Breadcrumb" class="flex text-sm text-gray-400 mb-4">
<ol class="flex items-center space-x-2">
<li><a class="hover:text-primary transition" href="#">Accueil</a></li>
<li><span class="material-symbols-outlined text-[16px]">chevron_right</span></li>
<li class="text-primary font-medium">Boutique</li>
</ol>
</nav>
<div class="flex flex-col md:flex-row md:items-end justify-between gap-4">
<div>
<h1 class="text-3xl font-black text-white sm:text-4xl">{{ pageTitle }}</h1>
<p class="mt-2 text-lg text-gray-400 max-w-2xl">Découvrez nos derniéres parutions, best-sellers et collections exclusives.</p>
</div>
<div class="flex gap-2">
<button class="flex items-center gap-2 rounded-lg bg-surface-highlight border border-[#2E2419] px-4 py-2 text-sm font-medium text-white hover:border-primary transition">
<span class="material-symbols-outlined text-[20px]">tune</span>
                            Filtres
                        </button>
<button 
*ngIf="hasActiveFilters()"
(click)="clearAllFilters()"
class="flex items-center gap-2 rounded-lg bg-red-600/20 border border-red-600/30 px-4 py-2 text-sm font-medium text-red-400 hover:bg-red-600/30 transition">
<span class="material-symbols-outlined text-[20px]">clear</span>
                            Effacer
                        </button>
</div>
</div>
</div>
</div>
<div class="relative z-10 mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-8">
<div class="flex flex-col lg:flex-row gap-8">
<aside class="hidden lg:block w-64 flex-shrink-0 space-y-8">
<div class="space-y-6">
<div>
<h3 class="text-sm font-bold uppercase tracking-wider text-white mb-4">Catégories</h3>
<div class="space-y-2">
<label *ngFor="let category of categories" class="flex items-center gap-3 cursor-pointer group">
<input 
type="checkbox" 
[checked]="isCategorySelected(category.id)"
(change)="toggleCategory(category.id)"
class="h-4 w-4 rounded border-[#2E2419] bg-surface-highlight text-primary focus:ring-offset-background-dark custom-checkbox transition" 
/>
<span class="material-symbols-outlined text-[14px] text-gray-400 group-hover:text-orange-500 transition">{{ category.icon }}</span>
<span class="text-sm text-gray-400 group-hover:text-orange-500 transition" 
[class.text-orange-500]="isCategorySelected(category.id)">{{ category.name }}</span>
</label>
</div>
</div>
<div class="border-t border-[#2E2419] pt-6">
<h3 class="text-sm font-bold uppercase tracking-wider text-white mb-4">Format</h3>
<div class="space-y-2">
<label *ngFor="let format of formats" class="flex items-center gap-3 cursor-pointer group">
<input 
type="checkbox" 
[checked]="isFormatSelected(format.id)"
(change)="toggleFormat(format.id)"
class="h-4 w-4 rounded border-[#2E2419] bg-surface-highlight text-orange-500 focus:ring-offset-background-dark custom-checkbox transition" 
/>
<span class="text-sm text-gray-400 group-hover:text-orange-500 transition"
[class.text-orange-500]="isFormatSelected(format.id)">{{ format.name }}</span>
</label>
</div>
</div>
<div class="border-t border-[#2E2419] pt-6">
<h3 class="text-sm font-bold uppercase tracking-wider text-white mb-4">Note des lecteurs</h3>
<div class="space-y-2">
<label class="flex items-center gap-3 cursor-pointer group">
<input 
type="radio" 
name="rating"
value="4"
[checked]="selectedRating === 4"
(change)="setRatingFilter(4)"
class="h-4 w-4 border-[#2E2419] bg-surface-highlight text-orange-500 focus:ring-offset-background-dark transition" 
/>
<div class="flex text-orange-500">
<span class="material-symbols-outlined text-[16px] fill-current">star</span>
<span class="material-symbols-outlined text-[16px] fill-current">star</span>
<span class="material-symbols-outlined text-[16px] fill-current">star</span>
<span class="material-symbols-outlined text-[16px] fill-current">star</span>
<span class="material-symbols-outlined text-[16px]">star</span>
</div>
<span class="text-xs text-gray-400">&amp; plus</span>
</label>
<label class="flex items-center gap-3 cursor-pointer group">
<input 
type="radio" 
name="rating"
value="3"
[checked]="selectedRating === 3"
(change)="setRatingFilter(3)"
class="h-4 w-4 border-[#2E2419] bg-surface-highlight text-orange-500 focus:ring-offset-background-dark transition" 
/>
<div class="flex text-orange-500">
<span class="material-symbols-outlined text-[16px] fill-current">star</span>
<span class="material-symbols-outlined text-[16px] fill-current">star</span>
<span class="material-symbols-outlined text-[16px] fill-current">star</span>
<span class="material-symbols-outlined text-[16px]">star</span>
<span class="material-symbols-outlined text-[16px]">star</span>
</div>
<span class="text-xs text-gray-400">&amp; plus</span>
</label>
<label class="flex items-center gap-3 cursor-pointer group">
<input 
type="radio" 
name="rating"
value="0"
[checked]="selectedRating === 0"
(change)="setRatingFilter(0)"
class="h-4 w-4 border-[#2E2419] bg-surface-highlight text-orange-500 focus:ring-offset-background-dark transition" 
/>
<span class="text-sm text-gray-400 group-hover:text-primary transition">Toutes les notes</span>
</label>
</div>
</div>
<div class="border-t border-[#2E2419] pt-6">
<h3 class="text-sm font-bold uppercase tracking-wider text-white mb-4">Prix</h3>
<div class="flex items-center gap-2">
<div class="relative flex-1">
<span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-xs">€</span>
<input 
type="number" 
[(ngModel)]="priceRange.min"
placeholder="Min" 
min="0"
class="w-full rounded bg-surface-highlight border border-[#2E2419] pl-6 pr-2 py-1.5 text-sm text-white placeholder:text-gray-500 focus:border-primary focus:ring-0"
/>
</div>
<span class="text-gray-500">-</span>
<div class="relative flex-1">
<span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-xs">€</span>
<input 
type="number" 
[(ngModel)]="priceRange.max"
placeholder="Max" 
min="0"
class="w-full rounded bg-surface-highlight border border-[#2E2419] pl-6 pr-2 py-1.5 text-sm text-white placeholder:text-gray-500 focus:border-primary focus:ring-0"
/>
</div>
</div>
<button 
(click)="applyFilters()"
class="mt-4 w-full rounded bg-surface-highlight border border-[#2E2419] py-2 text-xs font-bold uppercase text-white hover:bg-orange-500 hover:text-background-dark hover:border-orange-500 transition">
                            Appliquer
</button>
</div>
</div>
</aside>
<div class="flex-1">
<div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 pb-6 border-b border-[#2E2419]">
<p class="text-sm text-gray-400">
                        Affichage de <span class="text-white font-medium">1-{{ products.length }}</span> sur <span class="text-white font-medium">{{ products.length }}</span> résultats
                    </p>
<div class="flex items-center gap-3">
<span class="text-sm text-gray-400 hidden sm:inline">Trier par:</span>
<div class="relative">
<select 
[(ngModel)]="sortBy"
(change)="onSortChange()"
class="appearance-none rounded-lg bg-surface-highlight border border-[#2E2419] py-2 pl-4 pr-10 text-sm text-white focus:border-primary focus:ring-0 cursor-pointer hover:border-primary/50 transition">
<option value="popularite">Popularité</option>
<option value="nouveautes">Nouveautés</option>
<option value="prix-croissant">Prix croissant</option>
<option value="prix-decroissant">Prix décroissant</option>
<option value="note">Meilleures notes</option>
</select>
<div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400">
<span class="material-symbols-outlined text-[20px]">expand_more</span>
</div>
</div>
</div>
</div>
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
<app-product-card 
*ngFor="let product of products" 
[product]="product"
[variant]="'default'"
[showAddToCart]="true"
[showQuickView]="true">
</app-product-card>
</div>
<div class="mt-12 flex justify-center">
<nav class="flex items-center gap-2">
<a class="flex h-10 w-10 items-center justify-center rounded-lg border border-[#2E2419] bg-surface-highlight text-gray-400 hover:border-primary hover:text-primary transition" href="#">
<span class="material-symbols-outlined text-[20px]">chevron_left</span>
</a>
<a class="flex h-10 w-10 items-center justify-center rounded-lg border border-primary bg-primary text-background-dark font-bold shadow-[0_0_10px_-2px_rgba(255,159,28,0.5)]" href="#">1</a>
<a class="flex h-10 w-10 items-center justify-center rounded-lg border border-[#2E2419] bg-surface-highlight text-white hover:border-primary hover:text-primary transition" href="#">2</a>
<a class="flex h-10 w-10 items-center justify-center rounded-lg border border-[#2E2419] bg-surface-highlight text-white hover:border-primary hover:text-primary transition" href="#">3</a>
<span class="flex h-10 w-10 items-center justify-center text-gray-500">...</span>
<a class="flex h-10 w-10 items-center justify-center rounded-lg border border-[#2E2419] bg-surface-highlight text-white hover:border-primary hover:text-primary transition" href="#">12</a>
<a class="flex h-10 w-10 items-center justify-center rounded-lg border border-[#2E2419] bg-surface-highlight text-gray-400 hover:border-primary hover:text-primary transition" href="#">
<span class="material-symbols-outlined text-[20px]">chevron_right</span>
</a>
</nav>
</div>
</div>
</div>
</div>
</main>
<app-footer></app-footer>
</div>
