
<main class="max-w-[1600px] mx-auto">
  <!-- Breadcrumb & Title -->
  <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8">
    <div>
      <!-- <nav class="flex text-sm text-gray-500 mb-1">
        <a class="hover:text-primary transition" href="#">Admin</a>
        <span class="mx-2">/</span>
        <a class="hover:text-primary transition" href="#">Clients</a>
        <span class="mx-2">/</span>
        <span class="text-gray-300">Détails</span>
      </nav> -->
      <h1 class="text-2xl sm:text-3xl font-bold text-white flex items-center gap-3">
        {{ userProfile.name }}
        <span class="px-2.5 py-0.5 rounded-full bg-green-900/30 border border-green-800 text-green-400 text-xs font-bold uppercase tracking-wide">Actif</span>
      </h1>
    </div>
    <div class="flex items-center gap-3">
      <button class="flex items-center gap-2 px-4 py-2 rounded-lg bg-surface-highlight border border-[#2E2419] text-gray-300 text-sm font-medium hover:bg-white/5 transition">
        <span class="material-symbols-outlined text-[18px] empty">lock_reset</span>
        Réinitialiser MDP
      </button>
      <button class="flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-background-dark text-sm font-bold hover:bg-white transition">
        <span class="material-symbols-outlined text-[18px] empty">edit</span>
        Éditer Profil
      </button>
    </div>
  </div> 

  <div class="grid   gap-6">
  

    <!-- Main Content -->
    <div class="lg:col-span-8 xl:col-span-9 flex flex-col gap-6">
      <!-- Stats Cards -->
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
        <div *ngFor="let stat of stats" class="rounded-xl bg-surface-highlight border border-[#2E2419] p-5 relative overflow-hidden group">
          <div class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity text-primary">
            <span class="material-symbols-outlined text-6xl empty">{{ stat.icon }}</span>
          </div>
          <p class="text-sm text-gray-400 font-medium">{{ stat.label }}</p>
          <p class="text-3xl font-black text-white mt-1">{{ stat.value }}</p>
          <p class="text-xs mt-2" [ngClass]="stat.description.includes('+') ? 'text-green-400' : stat.description.includes('cours') ? 'text-primary' : 'text-gray-500'">{{ stat.description }}</p>
        </div>
      </div>

      <!-- Reading Progress -->
      <div class="rounded-xl bg-surface-highlight border border-[#2E2419] overflow-hidden">
        <div class="px-6 py-4 border-b border-[#2E2419] flex items-center justify-between bg-surface-dark/30">
          <h3 class="font-bold text-white flex items-center gap-2">
            <span class="material-symbols-outlined text-primary text-[20px] empty">auto_stories</span>
            Lectures en cours
          </h3>
          <a class="text-xs font-bold text-gray-400 hover:text-white transition" [routerLink]="['/dashboard/library']">Voir toute la bibliothèque</a>
        </div>
        <div class="p-6">
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div *ngFor="let book of readingBooks" class="flex gap-4 group">
              <div class="w-20 shrink-0 rounded overflow-hidden shadow-lg border border-[#2E2419]">
                <div class="aspect-[2/3] bg-cover bg-center" [style.background-image]="'url(' + book.cover + ')'"></div>
              </div>
              <div class="flex flex-col justify-between py-1 flex-1">
                <div>
                  <h4 class="font-bold text-white text-sm line-clamp-1 group-hover:text-primary transition">{{ book.title }}</h4>
                  <p class="text-xs text-gray-400">{{ book.author }}</p>
                </div>
                <div *ngIf="book.progress > 0">
                  <div class="flex justify-between items-center text-xs mb-1">
                    <span class="text-gray-400">Progression</span>
                    <span class="text-primary font-bold">{{ book.progress }}%</span>
                  </div>
                  <div class="h-1.5 w-full bg-surface-dark rounded-full overflow-hidden">
                    <div class="h-full bg-primary rounded-full" [style.width.%]="book.progress"></div>
                  </div>
                  <p class="text-[10px] text-gray-500 mt-1">Dernière lecture : {{ book.lastRead }}</p>
                  <button [routerLink]="['/reader', book.id]" class="mt-2 w-full flex items-center justify-center gap-1 px-3 py-1.5 rounded-lg bg-primary text-background-dark text-xs font-bold hover:bg-white transition">
                    <span class="material-symbols-outlined text-[14px] empty">play_arrow</span>
                    Continuer à lire
                  </button>
                </div>
                <div *ngIf="book.progress === 0">
                  <div class="flex items-center gap-1 mt-2">
                    <span class="px-2 py-0.5 rounded-full bg-gray-800 text-[10px] text-gray-400 border border-gray-700">À lire</span>
                  </div>
                  <p class="text-[10px] text-gray-500 mt-2">{{ book.lastRead }}</p>
                  <button [routerLink]="['/reader', book.id]" class="mt-2 w-full flex items-center justify-center gap-1 px-3 py-1.5 rounded-lg bg-surface-dark border border-[#2E2419] text-white text-xs font-medium hover:bg-white/5 transition">
                    <span class="material-symbols-outlined text-[14px] empty">auto_stories</span>
                    Démarrer la lecture
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Orders Table -->
      <div class="rounded-xl bg-surface-highlight border border-[#2E2419] overflow-hidden flex-1">
        <div class="px-6 py-4 border-b border-[#2E2419] flex items-center justify-between bg-surface-dark/30">
          <h3 class="font-bold text-white flex items-center gap-2">
            <span class="material-symbols-outlined text-primary text-[20px] empty">receipt_long</span>
            Dernières Commandes
          </h3>
          <div class="flex gap-2">
            <button class="p-1 rounded hover:bg-white/5 text-gray-400 transition"><span class="material-symbols-outlined text-[18px]">filter_list</span></button>
            <button class="p-1 rounded hover:bg-white/5 text-gray-400 transition"><span class="material-symbols-outlined text-[18px]">download</span></button>
          </div>
        </div>
        <div class="overflow-x-auto">
          <table class="w-full text-sm text-left">
            <thead class="bg-surface-dark text-gray-400 uppercase text-xs">
              <tr>
                <th class="px-6 py-3 font-medium tracking-wider">Référence</th>
                <th class="px-6 py-3 font-medium tracking-wider">Date</th>
                <th class="px-6 py-3 font-medium tracking-wider">Articles</th>
                <th class="px-6 py-3 font-medium tracking-wider">Total</th>
                <th class="px-6 py-3 font-medium tracking-wider">Statut</th>
                <th class="px-6 py-3 text-right">Action</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-[#2E2419] text-gray-300">
              <tr *ngFor="let order of recentOrders" class="hover:bg-surface-dark/50 transition">
                <td class="px-6 py-4 font-mono text-primary font-medium">{{ order.id }}</td>
                <td class="px-6 py-4">{{ order.date }}</td>
                <td class="px-6 py-4 text-gray-400">{{ order.items }}</td>
                <td class="px-6 py-4 font-bold text-white">{{ order.total }}</td>
                <td class="px-6 py-4">
                  <span 
                    class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium"
                    [ngClass]="{
                      'bg-green-900/30 text-green-400 border border-green-900/50': order.statusColor === 'green',
                      'bg-gray-700/30 text-gray-400 border border-gray-700': order.statusColor === 'gray'
                    }">
                    <span class="w-1.5 h-1.5 rounded-full" 
                      [ngClass]="{
                        'bg-green-400': order.statusColor === 'green',
                        'bg-gray-400': order.statusColor === 'gray'
                      }"></span>
                    {{ order.status }}
                  </span>
                </td>
                <td class="px-6 py-4 text-right">
                  <button class="text-gray-500 hover:text-white transition"><span class="material-symbols-outlined text-[18px]">visibility</span></button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="px-6 py-3 border-t border-[#2E2419] bg-surface-dark/20 text-center">
          <a class="text-xs font-bold text-primary hover:text-white transition" [routerLink]="['/dashboard/orders']">Voir tout l'historique</a>
        </div>
      </div>
    </div>
  </div>
</main>

<footer class="mt-12 border-t border-[#2E2419] bg-background-dark py-8">
  <div class="mx-auto max-w-[1600px] px-4 text-center text-xs text-gray-500">
    <p>© 2023 Livresque Admin. Tous droits réservés. <span class="mx-2">•</span> Version 2.4.0</p>
  </div>
</footer>
