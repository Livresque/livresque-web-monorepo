<div class="relative flex min-h-screen w-full flex-col">
  <app-header></app-header>
  <main class="flex-1">
<section class="relative py-12 lg:py-16">
<div class="absolute inset-0 overflow-hidden pointer-events-none">
<svg class="absolute -top-[10%] -left-[10%] text-primary/5 w-[50%] h-[50%]" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
<path d="M42.7,-72.2C55.3,-66.1,65.3,-55.3,73.1,-43.3C80.9,-31.3,86.5,-18.1,85.6,-5.3C84.7,7.5,77.3,19.9,68.6,30.8C59.9,41.7,49.9,51.1,38.6,58.8C27.3,66.5,14.7,72.5,0.7,71.3C-13.3,70.1,-25.6,61.7,-37.8,54.1C-50,46.5,-62.1,39.7,-70.6,29.3C-79.1,18.9,-84,4.9,-82.1,-8.1C-80.2,-21.1,-71.5,-33.1,-61.6,-42.6C-51.7,-52.1,-40.6,-59.1,-29.3,-66.1C-18,-73.1,-6.5,-80.1,5.2,-80.9C16.9,-81.7,30.1,-60.3,42.7,-72.2Z" fill="currentColor" transform="translate(100 100)"></path>
</svg>
<svg class="absolute bottom-[10%] right-[0%] text-primary/5 w-[40%] h-[40%]" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
<path d="M38.1,-49.9C49.9,-44.1,60.5,-35.1,66.3,-23.8C72.1,-12.5,73.1,1.1,69.5,13.8C65.9,26.5,57.7,38.3,47.4,47.4C37.1,56.5,24.7,62.9,11.5,65.6C-1.7,68.3,-15.7,67.3,-28.6,61.8C-41.5,56.3,-53.3,46.3,-61.8,34.1C-70.3,21.9,-75.5,7.5,-73.8,-6.3C-72.1,-20.1,-63.5,-33.3,-52.7,-43.4C-41.9,-53.5,-28.9,-60.5,-16.2,-61.2C-3.5,-61.9,8.5,-56.3,26.3,-55.7" fill="currentColor" transform="translate(100 100)"></path>
</svg>
</div>
<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 relative z-10">
<div class="max-w-3xl mx-auto mb-10 text-center">
<h1 class="text-4xl lg:text-5xl font-black tracking-tight text-white">Finalisez votre commande</h1>
<p class="mt-4 text-lg text-gray-400">Presque fini ! Confirmez vos informations pour recevoir vos livres.</p>
</div>
<div class="lg:grid lg:grid-cols-12 lg:gap-12">
<div class="lg:col-span-7">
<div class="space-y-10">
<div class="bg-surface-dark border border-[#2E2419] rounded-xl overflow-hidden">
<div class="px-6 py-4 border-b border-[#2E2419] flex items-center gap-4">
<div class="flex-shrink-0 w-8 h-8 rounded-full bg-primary text-background-dark flex items-center justify-center font-bold text-lg">1</div>
<h2 class="text-xl font-bold text-white">Informations de livraison</h2>
</div>
<div class="p-6 space-y-5">
<div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
<div>
<label class="block text-sm font-medium text-gray-300 mb-1.5" for="firstname">Prénom</label>
<input 
[(ngModel)]="firstName"
class="w-full rounded-md bg-surface-highlight border border-[#2E2419] px-3 py-2 text-sm text-white placeholder:text-gray-500 focus:border-primary focus:ring-0 focus:outline-none" 
id="firstname" 
name="firstname" 
placeholder="Jean" 
type="text"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-300 mb-1.5" for="lastname">Nom</label>
<input 
[(ngModel)]="lastName"
class="w-full rounded-md bg-surface-highlight border border-[#2E2419] px-3 py-2 text-sm text-white placeholder:text-gray-500 focus:border-primary focus:ring-0 focus:outline-none" 
id="lastname" 
name="lastname" 
placeholder="Dupont" 
type="text"/>
</div>
</div>
<div>
<label class="block text-sm font-medium text-gray-300 mb-1.5" for="email">Adresse e-mail</label>
<input 
[(ngModel)]="email"
class="w-full rounded-md bg-surface-highlight border border-[#2E2419] px-3 py-2 text-sm text-white placeholder:text-gray-500 focus:border-primary focus:ring-0 focus:outline-none" 
id="email" 
name="email" 
placeholder="jean.dupont@email.com" 
type="email"/>
<p class="text-xs text-gray-500 mt-1.5">Vos livres numériques seront envoyés à cette adresse.</p>
</div>
<div>
<label class="block text-sm font-medium text-gray-300 mb-1.5" for="country">Pays</label>
<select 
[(ngModel)]="country"
class="w-full rounded-md bg-surface-highlight border border-[#2E2419] px-3 py-2 text-sm text-white focus:border-primary focus:ring-0 focus:outline-none" 
id="country" 
name="country">
<option *ngFor="let countryOption of countries" [value]="countryOption.name">{{ countryOption.name }}</option>
</select>
</div>
</div>
</div>
<div class="bg-surface-dark border border-[#2E2419] rounded-xl overflow-hidden">
<div class="px-6 py-4 border-b border-[#2E2419] flex items-center gap-4">
<div class="flex-shrink-0 w-8 h-8 rounded-full bg-primary text-background-dark flex items-center justify-center font-bold text-lg">2</div>
<h2 class="text-xl font-bold text-white">Méthode de paiement</h2>
</div>
<div class="p-6">
<div class="space-y-4">
<div class="border border-[#2E2419] rounded-lg p-4 has-[:checked]:border-primary has-[:checked]:bg-surface-highlight transition-all">
<label class="flex items-center cursor-pointer">
<input 
[(ngModel)]="paymentMethod" 
value="card"
class="h-4 w-4 text-primary bg-surface-dark border-[#2E2419] focus:ring-primary focus:ring-offset-surface-dark" 
name="payment-method" 
type="radio"/>
<span class="ml-3 font-medium text-white">Carte Bancaire</span>
<div class="ml-auto flex items-center gap-1">
<img alt="Visa" class="h-6" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBcq6Usk3GbH7gMNQNstk-21E2BvGnd6S6qimo6f1Kq929Hl1UBFvEiacNjpJSkjlPM4VQEdDIqGFI8qh49jjFW6I-hLcPPQVjA_0_Lv6jhP9OqBQWsEHmDsTvdqAZEGdrKLcWAZbhOKIFN7Ab3UwsF1Q8G0VdrBzBv_Qvz2q-Te9HBzkeFosR9aTe2QpoAzYd0jvos1YieQpPzNjEMNzndM--k-ngZ3pDC8n4Ofv4u1o2Ltl3ulQLclF_5bBx4kgqpjQnIN4FjeYs"/>
<img alt="Mastercard" class="h-6" src="https://lh3.googleusercontent.com/aida-public/AB6AXuCZXf257INBcREBSV4nEO5AelJTv15PgNL0SKHxMtbwZhvhkrmjxX0kVJHeKA0jSdizJxo5UY6uIwA2rTsQU4t-l8VJens8z7zJhdIqgguMaP7ntnx9J-PG2EJx4Qxv0Iov8FlazqZZkezNpZi-TLg3gLQXzLU5tNNZGnnUVraJy5XC28HAkra-Dcrr5syWF-SVDwzCulQDYr--0-ZV660GQVaCQOxNLc8f1gZN0hZAnWRdNv6CW3m3mm2U43VfekhmOPoZXcLcR-4"/>
</div>
</label>
</div>
<div class="border border-[#2E2419] rounded-lg p-4 has-[:checked]:border-primary has-[:checked]:bg-surface-highlight transition-all">
<label class="flex items-center cursor-pointer">
<input 
[(ngModel)]="paymentMethod" 
value="mobile"
class="h-4 w-4 text-primary bg-surface-dark border-[#2E2419] focus:ring-primary focus:ring-offset-surface-dark" 
name="payment-method" 
type="radio"/>
<span class="ml-3 font-medium text-white">Mobile Money</span>
<div class="ml-auto flex items-center gap-2">
<img alt="Mobile Money" class="h-6" src="https://lh3.googleusercontent.com/aida-public/AB6AXuCR9jbDw3hmmN_0KTkAEtBfLUrZQTpdsXjrknJIkQfdRxJeGRYUzdokC-CGBJU6mel_d6N70Ib60yqmPecBQrqAnYYlxTqoh4goxRi14R2bR_YRxvrip8dgtee6QIPb-YQbF4jU5O5m89bteT-4y1qm5p6LBM-qDw1w2H03lqpthNHozdz_crAWRqkLe6AVxgUODo_obwUMUD8uFwf3UK_ZXRhu_5Pw4sGhq6NDbzhqv8gBIAl60Yjv1kXK7MFRIls3Hlz9Vt5mdeg"/>
</div>
</label>
</div>
</div>
<div class="mt-6 space-y-5" *ngIf="paymentMethod === 'card'">
<div>
<label class="block text-sm font-medium text-gray-300 mb-1.5" for="card-number">Numéro de carte</label>
<div class="relative">
<input 
[(ngModel)]="cardNumber"
class="w-full rounded-md bg-surface-highlight border border-[#2E2419] pl-10 pr-3 py-2 text-sm text-white placeholder:text-gray-500 focus:border-primary focus:ring-0 focus:outline-none" 
id="card-number" 
name="card-number" 
placeholder="0000 0000 0000 0000" 
type="text"/>
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-base">credit_card</span>
</div>
</div>
<div class="grid grid-cols-2 gap-5">
<div>
<label class="block text-sm font-medium text-gray-300 mb-1.5" for="expiry-date">Date d'expiration</label>
<input 
[(ngModel)]="expiryDate"
class="w-full rounded-md bg-surface-highlight border border-[#2E2419] px-3 py-2 text-sm text-white placeholder:text-gray-500 focus:border-primary focus:ring-0 focus:outline-none" 
id="expiry-date" 
name="expiry-date" 
placeholder="MM/AA" 
type="text"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-300 mb-1.5" for="cvc">CVC</label>
<input 
[(ngModel)]="cvc"
class="w-full rounded-md bg-surface-highlight border border-[#2E2419] px-3 py-2 text-sm text-white placeholder:text-gray-500 focus:border-primary focus:ring-0 focus:outline-none" 
id="cvc" 
name="cvc" 
placeholder="123" 
type="text"/>
</div>
</div>
</div>
<div class="mt-6 space-y-5" *ngIf="paymentMethod === 'mobile'">
<div>
<label class="block text-sm font-medium text-gray-300 mb-1.5" for="mobile-number">Numéro Mobile Money</label>
<div class="relative">
<input 
[(ngModel)]="mobileMoneyNumber"
class="w-full rounded-md bg-surface-highlight border border-[#2E2419] pl-10 pr-3 py-2 text-sm text-white placeholder:text-gray-500 focus:border-primary focus:ring-0 focus:outline-none" 
id="mobile-number" 
name="mobile-number" 
placeholder="+221 70 123 45 67" 
type="tel"/>
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-base">phone</span>
</div>
<p class="text-xs text-gray-500 mt-1.5">Votre numéro de téléphone associé au service Mobile Money.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="lg:col-span-5 mt-10 lg:mt-0">
<div class="bg-surface-dark border border-[#2E2419] rounded-xl p-6 lg:sticky lg:top-24">
<div class="pb-4 border-b border-[#2E2419] flex items-center gap-4">
<div class="flex-shrink-0 w-8 h-8 rounded-full bg-primary text-background-dark flex items-center justify-center font-bold text-lg">3</div>
<h2 class="text-xl font-bold text-white">Récapitulatif de la commande</h2>
</div>
<div class="py-6 space-y-4">
<div *ngFor="let item of items$ | async" class="flex gap-4">
<div class="w-20 h-28 flex-shrink-0 rounded-md overflow-hidden">
<img [alt]="item.title" class="w-full h-full object-cover" [src]="item.imageUrl"/>
</div>
<div class="flex-1">
<h3 class="font-bold text-white leading-tight">{{ item.title }}</h3>
<p class="text-sm text-gray-400">{{ item.author }}</p>
<p *ngIf="item.quantity > 1" class="text-sm text-gray-400">Quantité: {{ item.quantity }}</p>
</div>
<p class="font-bold text-white">{{ formatPrice(item.price * item.quantity, (selectedCurrency$ | async) || 'XOF') }}</p>
</div>
<div *ngIf="!(items$ | async) || (items$ | async)!.length === 0" class="text-center py-8">
<p class="text-gray-400">Aucun article dans votre panier</p>
<a href="/cart" class="text-primary hover:underline mt-2 inline-block">Retourner au panier</a>
</div>
</div>
<div class="py-4 border-t border-[#2E2419]">
<form class="flex gap-3">
<input 
[(ngModel)]="promoCode"
class="flex-1 rounded-md bg-surface-highlight border border-[#2E2419] px-3 py-2 text-sm text-white placeholder:text-gray-500 focus:border-primary focus:ring-0 focus:outline-none" 
placeholder="Code promo" 
type="text"/>
<button type="button" class="px-4 py-2 rounded-md bg-surface-highlight text-white text-sm font-bold hover:bg-[#453625] transition-colors">Appliquer</button>
</form>
</div>
<div class="py-4 border-t border-[#2E2419] space-y-2">
<div class="flex justify-between text-gray-300 text-sm">
<span>Sous-total</span>
<span>{{ formatPrice((totalPrice$ | async) || 0, (selectedCurrency$ | async) || 'XOF') }}</span>
</div>
<div class="flex justify-between text-gray-300 text-sm">
<span>Taxes</span>
<span>Calculées à l'étape suivante</span>
</div>
</div>
<div class="py-4 border-t border-[#2E2419] flex justify-between items-center">
<span class="text-lg font-bold text-white">Total</span>
<span class="text-2xl font-black text-primary">{{ formatPrice((totalPrice$ | async) || 0, (selectedCurrency$ | async) || 'XOF') }}</span>
</div>
<div class="mt-6">
<button class="w-full flex h-14 min-w-[140px] cursor-pointer items-center justify-center rounded-lg bg-primary px-6 text-base font-bold text-background-dark transition hover:scale-105 active:scale-95 shadow-[0_0_20px_-5px_rgba(255,159,28,0.5)]">
<span class="material-symbols-outlined mr-2">lock</span>
                                    Payer en toute sécurité
                                </button>
<p class="text-xs text-gray-500 mt-4 text-center">En cliquant sur "Payer", vous acceptez les <a class="text-primary hover:underline" href="#">Conditions Générales de Vente</a> de Livresque.</p>
</div>
</div>
</div>
</div>
</div>
</section>
</main>
  <app-footer></app-footer>
</div>
